<!-- Template -->

<ng-template #labelvaluePercent let-type let-totalAmount="amount" let-icon="hasIcon">
  <div class="ct-pcs-content-labelvalue">
      <div class="ct-pcs-content-labelvalue-type ct-uppercase">{{ type }}:</div>
      <div></div>
      <div class="ct-pcs-content-labelvalue-amount">
        <span *ngIf="icon">
          <ng-container *ngTemplateOutlet="svg_17">
          </ng-container>
        </span>
        <span>{{ (totalAmount || 0) | number: '0.0-2' }}%</span>
      </div>
  </div>
</ng-template>

<ng-template #labelvaluePerDay let-type let-totalAmount="amount" let-icon="hasIcon">
  <div class="ct-pcs-content-labelvalue">
      <div style="line-height: 1.5" class="ct-pcs-content-labelvalue-type ct-uppercase ct-w-100">{{ type }}:</div>
      <div></div>
      <div class="ct-pcs-content-labelvalue-amount">
        <span *ngIf="icon">
          <ng-container *ngTemplateOutlet="svg_17">
          </ng-container>
        </span>
        <span>{{ (totalAmount || 0) | number: '0.0' }} ครั้ง</span>
      </div>
  </div>
</ng-template>

<ng-template #svg_17>
  <svg viewBox="0 0 24 24" color="textSubtle" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"></path><path d="M11.25 7.72H6.25V9.22H11.25V7.72Z"></path><path d="M18 15.75H13V17.25H18V15.75Z"></path><path d="M18 13.25H13V14.75H18V13.25Z"></path><path d="M8 18H9.5V16H11.5V14.5H9.5V12.5H8V14.5H6V16H8V18Z"></path><path d="M14.09 10.95L15.5 9.54L16.91 10.95L17.97 9.89L16.56 8.47L17.97 7.06L16.91 6L15.5 7.41L14.09 6L13.03 7.06L14.44 8.47L13.03 9.89L14.09 10.95Z"></path></svg>
</ng-template>
<ng-template #svg_18>
  <svg viewBox="0 0 24 24" width="18px" color="secondary" xmlns="http://www.w3.org/2000/svg" class="ct-pcs-svg-refresh"><path d="M17.65 6.35C16.02 4.72 13.71 3.78 11.17 4.04C7.50002 4.41 4.48002 7.39 4.07002 11.06C3.52002 15.91 7.27002 20 12 20C15.19 20 17.93 18.13 19.21 15.44C19.53 14.77 19.05 14 18.31 14C17.94 14 17.59 14.2 17.43 14.53C16.3 16.96 13.59 18.5 10.63 17.84C8.41002 17.35 6.62002 15.54 6.15002 13.32C5.31002 9.44 8.26002 6 12 6C13.66 6 15.14 6.69 16.22 7.78L14.71 9.29C14.08 9.92 14.52 11 15.41 11H19C19.55 11 20 10.55 20 10V6.41C20 5.52 18.92 5.07 18.29 5.7L17.65 6.35Z"></path></svg>
</ng-template>
<ng-template #svg_19>
  <svg viewBox="0 0 24 24" width="20px" height="20px" color="textSubtle" xmlns="http://www.w3.org/2000/svg" class="ct-pcs-svg-description"><path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM11 16H13V18H11V16ZM12.61 6.04C10.55 5.74 8.73 7.01 8.18 8.83C8 9.41 8.44 10 9.05 10H9.25C9.66 10 9.99 9.71 10.13 9.33C10.45 8.44 11.4 7.83 12.43 8.05C13.38 8.25 14.08 9.18 14 10.15C13.9 11.49 12.38 11.78 11.55 13.03C11.55 13.04 11.54 13.04 11.54 13.05C11.53 13.07 11.52 13.08 11.51 13.1C11.42 13.25 11.33 13.42 11.26 13.6C11.25 13.63 11.23 13.65 11.22 13.68C11.21 13.7 11.21 13.72 11.2 13.75C11.08 14.09 11 14.5 11 15H13C13 14.58 13.11 14.23 13.28 13.93C13.3 13.9 13.31 13.87 13.33 13.84C13.41 13.7 13.51 13.57 13.61 13.45C13.62 13.44 13.63 13.42 13.64 13.41C13.74 13.29 13.85 13.18 13.97 13.07C14.93 12.16 16.23 11.42 15.96 9.51C15.72 7.77 14.35 6.3 12.61 6.04Z"></path></svg>
</ng-template>


<ng-template #detailEarn
  let-keyword 
  let-beforeKeyword="beforeKeyword"
  let-subKeyword="subKeyword" 
  let-total="total"
  let-subTotal="subTotal"
>
  <div class="ct-pcs-content-detail">
      <div>
        <span class="ct-pcs-content-detail-keyword">{{ keyword | uppercase }}</span>
        <span class="ct-pcs-content-detail-subkeyword" *ngIf="subKeyword">&nbsp;{{ subKeyword }}</span>
        <span *ngIf="beforeKeyword" class="ct-pcs-content-detail-keyword">&nbsp;({{ beforeKeyword }} {{'days'}})</span>
      </div>
      <div class="ct-pcs-content-detail-total">{{ (total || 0) | number:'0.1-8' }}</div>
      <div class="ct-pcs-content-detail-subtotal" *ngIf="subTotal">~{{ (subTotal*total || 0) | number:'0.2-2' }} {{ 'USD' }}</div>
  </div>
</ng-template>

<ng-template #detailStake
  let-keyword 
  let-subKeyword="subKeyword" 
  let-total="total"
  let-subTotal="subTotal"
>
  <div class="ct-pcs-content-detail">
      <div>
        <span class="ct-pcs-content-detail-subkeyword" *ngIf="subKeyword">{{ subKeyword }}</span>
        <span class="ct-pcs-content-detail-keyword">&nbsp;{{ keyword | uppercase }}</span>
      </div>
      <div class="ct-pcs-content-detail-total">{{ (total || 0) | number:'0.1-8' }}</div>
      <div class="ct-pcs-content-detail-subtotal" *ngIf="subTotal">~{{ (subTotal*total || 0) | number:'0.2-2' }} {{ 'USD' }}</div>
  </div>
</ng-template>

<ng-template #modalHeader>
  <span><i nz-icon nzType="edit" nzTheme="twotone"></i> {{ i18n?.edit || 'ระบุข้อมูลเพิ่อคำนวน' || 'EDIT' }}</span>
</ng-template>

<ng-template #modalContent>
  <form nz-form [formGroup]="vForm" (ngSubmit)="handleSave()">


    <nz-form-item>
      <nz-form-label [nzSpan]="8" nzRequired [nzTooltipTitle]="appTooltipTp" >App Name</nz-form-label>

      <ng-template #appTooltipTp>
        <p class="ct-font-sm">
          <span>เลือกAppที่คุณต้องการคำนวนผลตอบแทน</span><br>
          <span>หรือหากไม่มีที่คุณต้องการ ให้เลือก custom</span>
        </p>
      </ng-template>

      <nz-form-control [nzSpan]="12" nzValidatingTip="..." [nzErrorTip]="" nzExtra="{{ i18n?.edit || 'หากไม่มีแอปที่ต้องการกรุณาเลือก Custom' || '' }}">
        <nz-select formControlName="app" nzPlaceHolder="{{ i18n?.edit || '' }}">
          <nz-option *ngFor="let app of appList" [nzValue]="app.app" [nzLabel]="app.appName"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="8" >Farm(or Pool)</nz-form-label>
      <nz-form-control [nzSpan]="12" [nzErrorTip]="" nzExtra="{{ vForm.get('app').value == 'custom' ? (i18n?.edit || 'หากไม่ทราบสามารถตั้งชื่อเองหรือข้ามส่วนนี้ได้' || ''): (i18n?.edit || 'เลือกFarmหรือPoolที่ต้องการฝากเหรียญ' || '') }}">
        <input  *ngIf="vForm.get('app').value == 'custom'" nz-input type="text" formControlName="farm" placeholder="{{ i18n?.edit || 'ระบุชื่อ Farm หรือ Pool' || 'Please input farm or pool name (if any)' }}" />
        <nz-select *ngIf="vForm.get('app').value !== 'custom'" nzShowSearch formControlName="farm" nzPlaceHolder="Select Farm or Pool">
          <ng-container *ngFor="let farm of farms;let i=index" >
            <nz-option nzCustomContent [nzValue]="farm.key" [nzLabel]="farm.farmName">
              <div>{{ farm.farmName }}</div>
            </nz-option>
          </ng-container>
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-divider nzDashed [nzText]="divStakingTp">
      <ng-template #divStakingTp><i nz-icon nzType="wallet" nzTheme="twotone"></i> STAKING</ng-template>
    </nz-divider>

    <nz-form-item>
      <nz-form-label [nzSpan]="8" nzRequired>Token</nz-form-label>
      <nz-form-control [nzSpan]="12" [nzErrorTip]="">
        <input nz-input type="text" formControlName="stakingToken" placeholder="{{ i18n?.edit || 'ชื่อเหรียญที่จะฝาก' || 'Please input token name' }}" 
        style="width: 150px;text-transform:uppercase" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="8" nzRequired>Amount</nz-form-label>
      <nz-form-control [nzSpan]="12" [nzErrorTip]="">
          <nz-input-number [nzMin]="0" [nzStep]="1" nzPrecisionMode="cut" nzPlaceHolder="{{ i18n?.edit || 'จำนวนเหรียญที่จะฝาก' || 'Please input token amount' }}" 
          class="ct-w-100" formControlName="stakingAmount"></nz-input-number>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="8" nzRequired>Staking Time</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="">
        <div class="ct-flex">
          <nz-input-number [nzMin]="1" [nzStep]="1" [nzPrecision]="0" nzPrecisionMode="cut" nzPlaceHolder="{{ i18n?.edit || 'ระยะเวลาฝาก (วัน)' || 'Please input stake time (days)' }}" 
          class="ct-w-100" [nzMax]="maxStakeTime" formControlName="stakingTime"></nz-input-number>
          <div class="ct-after-input-box">{{ vForm.get('stakingTerm').value }}</div>
          <!-- <nz-radio-group formControlName="stakingTerm" nzButtonStyle="solid" nzSize="small" >
            <label nz-radio-button [nzValue]="'days'" class="ct-font-sm" [nzDisabled]="false">Days</label>
            <label nz-radio-button [nzValue]="'months'" class="ct-font-sm">Months</label>
            <label nz-radio-button [nzValue]="'years'" class="ct-font-sm">Years</label>
          </nz-radio-group> -->
        </div>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSpan]="8" nzRequired>Interest Rate</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="">
        <div>
          <div class="ct-flex">
            <nz-input-number [nzMin]="0" [nzStep]="1" [nzPrecision]="2" nzPrecisionMode="cut" nzPlaceHolder="{{ i18n?.edit || 'ผลตอบแทน' || 'Please input token name' }}"
            class="ct-w-100" [nzMax]="maxInterestRate" formControlName="interestRate"></nz-input-number>
            <div class="ct-after-input-box">{{ vForm.get('interestType').value }} %</div>
          </div>
          <nz-radio-group *ngIf="vForm.get('app').value == 'custom'" formControlName="interestType" nzButtonStyle="solid" nzSize="small" >
            <label nz-radio-button [nzValue]="'apy'" class="ct-font-sm" [nzDisabled]="false">APY</label>
            <label nz-radio-button [nzValue]="'apr'" class="ct-font-sm" [nzDisabled]="false">APR</label>
          </nz-radio-group>
        </div>
      </nz-form-control>
    </nz-form-item>


    <nz-form-item *ngIf="vForm.get('interestType').value !== 'apy'">
      <nz-form-label [nzSpan]="8">Compound</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="">
        <nz-switch nzCheckedChildren="YES" nzUnCheckedChildren="NO" formControlName="compound"></nz-switch>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item *ngIf="vForm.get('interestType').value == 'apy' || vForm.get('compound').value">
      <nz-form-label [nzSpan]="8" nzRequired>Compound Frequency</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="">
        <div class="ct-flex">
          <nz-input-number [nzMin]="1" [nzStep]="1" [nzPrecision]="0" nzPrecisionMode="cut" nzPlaceHolder="{{ i18n?.edit || 'จำนวนครั้งที่ compound ต่อวัน' || 'Please input times fo compounding' }}" 
          class="ct-w-100" [nzMax]="maxCompoundFrequency" formControlName="compoundFrequency"></nz-input-number>
          <div class="ct-after-input-box">per {{ vForm.get('stakingTerm').value }}</div>
        </div>
      </nz-form-control>
    </nz-form-item>

    <nz-divider nzDashed [nzText]="divEarningTp">
      <ng-template #divEarningTp><i nz-icon nzType="dollar" nzTheme="twotone"></i> EARNING</ng-template>
    </nz-divider>

    <nz-form-item>
      <nz-form-label [nzSpan]="8" nzRequired>Token</nz-form-label>
      <nz-form-control [nzSpan]="12" [nzErrorTip]="" >
        <input nz-input type="text" formControlName="earningToken" placeholder="{{ i18n?.edit || 'ชื่อเหรียญที่ได้รับ' || 'Please input earning token name' }}" style="width: 150px;text-transform:uppercase" />
      </nz-form-control>
    </nz-form-item>

    <ng-container *ngIf="vForm.get('stakingToken').value && vForm.get('earningToken').value">

      <nz-divider nzDashed [nzText]="divOptionalTp">
        <ng-template #divOptionalTp><i nz-icon nzType="plus-circle" nzTheme="twotone"></i> OPTIONAL</ng-template>
      </nz-divider>

      <ng-template #priceTooltipTp>
        <p class="ct-font-sm">
          <span>ถ้าระบุ ระบบจะนำราคาไปคำนวนให้ด้วย</span><br>
        </p>
      </ng-template>

      <nz-form-item>
        <nz-form-label [nzSpan]="8" [nzTooltipTitle]="priceTooltipTp">
          <span class="ct-uppercase">{{ vForm.get('stakingToken').value }}</span>&nbsp;Price
        </nz-form-label>
        <nz-form-control [nzSpan]="12" nzErrorTip="" nzExtra="{{ i18n?.edit || 'ถ้าระบุ ระบบจะนำราคาไปคำนวนให้ด้วย' || '' }}">
          <div class="ct-flex">
            <nz-input-number [nzMin]="0" [nzStep]="1" nzPrecisionMode="cut" nzPlaceHolder="{{ i18n?.edit || 'ราคาเหรียญ (หากทราบ)' || 'Please input token price' }}" 
            class="ct-w-100" formControlName="stakingTokenPrice"></nz-input-number>
            <div class="ct-after-input-box">USD</div>
          </div>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item *ngIf="vForm.get('stakingToken').value !== vForm.get('earningToken').value">
        <nz-form-label [nzSpan]="8" [nzTooltipTitle]="priceTooltipTp">
          <span class="ct-uppercase">{{ vForm.get('earningToken').value }}</span>&nbsp;Price
        </nz-form-label>
        <nz-form-control [nzSpan]="12" nzErrorTip="" nzExtra="{{ i18n?.edit || 'ถ้าระบุ ระบบจะนำราคาไปคำนวนให้ด้วย' || '' }}">
          <div class="ct-flex">
            <nz-input-number [nzMin]="0" [nzStep]="1" nzPrecisionMode="cut" nzPlaceHolder="{{ i18n?.edit || 'ราคาเหรียญ (หากทราบ)' || 'Please input token price' }}" class="ct-w-100" 
            formControlName="earningTokenPrice"></nz-input-number>
            <div class="ct-after-input-box">USD</div>
          </div>
        </nz-form-control>
      </nz-form-item>

    </ng-container>

  </form>
</ng-template>

<ng-template #modalFooter>
  <button nz-button nzType="default" (click)="handleCancel()">{{ i18n?.edit || 'ยกเลิก' || 'Cancel' }}</button>
  <button nz-button nzType="primary" (click)="handleSave()">{{ i18n?.edit || 'คำนวน' || 'Estimate' }}</button>
</ng-template>

<ng-template #devTimeline>
  <nz-timeline>
    <nz-timeline-item nzColor="green">Create a services site 2015-09-01</nz-timeline-item>
    <nz-timeline-item nzColor="green">Solve initial network problems 2015-09-01</nz-timeline-item>
    <nz-timeline-item nzColor="red">
      <p>Solve initial network problems 1</p>
      <p>Solve initial network problems 2</p>
      <p>Solve initial network problems 3 2015-09-01</p>
    </nz-timeline-item>
    <nz-timeline-item>
      <p>Technical testing 1</p>
      <p>Technical testing 2</p>
      <p>Technical testing 3 2015-09-01</p>
    </nz-timeline-item>
    <nz-timeline-item nzColor="gray">
      <p>Technical testing 1</p>
      <p>Technical testing 2</p>
      <p>Technical testing 3 2015-09-01</p>
    </nz-timeline-item>
    <nz-timeline-item nzColor="gray">
      <p>Technical testing 1</p>
      <p>Technical testing 2</p>
      <p>Technical testing 3 2015-09-01</p>
    </nz-timeline-item>
  </nz-timeline>

</ng-template>

<nz-drawer [nzClosable]="false" [nzVisible]="screenControl.openMenu" nzPlacement="right" nzTitle="TAANG.DEV" (nzOnClose)="closeDrawer()">
  <ng-container *nzDrawerContent>
    <p>Some contents...</p>
    <p>Some contents...</p>
    <p>Some contents...</p>
  </ng-container>
</nz-drawer>

<!-- <ng-template #topWarning>
  Message Here ...
</ng-template> -->

<nz-modal [(nzVisible)]="isVisibleTopWarning" 
  [nzClosable]="false"
  nzOkText="{{ 'รับทราบ' }}"
  [nzCancelText]="null"
  [nzTitle]="null"
  (nzOnOk)="handleTopWarning()"
>
  <div><i nz-icon nzType="warning" nzTheme="twotone" [nzTwotoneColor]="'#e6b600'" ></i> ข้อควรระวังก่อนใช้งาน</div><br>
  <ul>
    <li>ทางเว็บไม่มีนโยบายในการขอ private key หรือ seed ถ้าพบว่าต้องกรอกข้อมูลดังกล่าว เป็นไปได้ว่าท่านกำลังอยู่ที่เว็บไซต์ปลอม กรุณาออกจากเว็บเพื่อป้องกันหลอกขโมยข้อมูล</li>
    <li>ระบบนี้ไม่ใช่การแนะนำการลงทุน เป็นเพียงการประเมินผลตอบแทนเบื้องต้นเท่านั้น ซึ่งสถานการจริงตัวเลขอาจมีการเปลี่ยนแปลงตามเงื่อนไขและสภาพตลาด ขอสงวนสิทธิ์ไม่รับผิดชอบความเสียหายจากการนำไปใช้งานจริง</li>
  </ul>
</nz-modal>
      


<!-- End Template -->



<nz-layout style="min-height: 100vh;">
  <nz-header style="display: flex;justify-content: space-between;">
    <div class="logo"><img src="../assets/img/defi-farm-tips-simulator.png"/></div>
    <!-- <div class="ct-flex" (click)="openDrawer()"><i nz-icon nzType="menu-fold" nzTheme="outline" class="ct-icon-menu"></i></div> -->
  </nz-header>



  
  <nz-content>

      <!-- Ads carousel -->
      <!-- <nz-carousel nzAutoPlay>
  <div nz-carousel-content *ngFor="let index of [1,2,3,4]">
    <h3>{{ index }}</h3>
  </div>
</nz-carousel> -->
  
    <!--<nz-breadcrumb>
      
      <nz-breadcrumb-item>Home</nz-breadcrumb-item>
      <nz-breadcrumb-item>List</nz-breadcrumb-item>
      <nz-breadcrumb-item>App</nz-breadcrumb-item>
      
    </nz-breadcrumb>-->

    <div class="content">
      <div class="sub-content" nz-row>

        <!-- <nz-alert style="margin-bottom: 20px;"
          nzType="warning"
          nzCloseable
          nzShowIcon
          nzMessage="โปรดอ่านคำเตือนก่อนใช้งาน"
          [nzDescription]="topWarning"
        >
        </nz-alert> -->
        <!-- Config -->

        <div
          class="inner-content"
          nz-col
          nzXs="12"
          nzSm="12"
          nzMd="24"
          nzLg="24"
          nzXl="24"
        >
          <div>  
            <div class="ct-txt-header">
              Estimate Your <span style="color: #1cc7d3">Profit</span><br>
              <span class="ct-txt-header-sub">By Defi Farm Tips Simulator</span>
            </div>
          </div>
        </div>

        <div
          class="inner-content"
          nz-col
          nzXs="12"
          nzSm="12"
          nzMd="24"
          nzLg="24"
          nzXl="24"
        >

          <div class="ct-pcs-card">

            <div class="ct-pcs-header">
              <div *ngIf="currentInfo?.farmName" class="ct-pcs-header-content">
                <div class="ct-pcs-header-content-main">{{ currentInfo.farmName }}</div>
                <div class="ct-pcs-header-content-sub">Earn {{ currentInfo.earningToken | uppercase }}, stake {{ currentInfo.stakingToken | uppercase }}</div>
              </div>
              <div *ngIf="!(currentInfo?.farmName)" class="ct-pcs-header-content">
                <div class="ct-pcs-header-content-main">Earn {{ currentInfo.earningToken | uppercase }}</div>
                <div class="ct-pcs-header-content-sub">Stake {{ currentInfo.stakingToken | uppercase }}</div>
              </div>
              <div class="ct-pcs-header-icon">
                <img *ngIf="currentInfo?.farmInfo?.imgLink" src="{{ currentInfo.farmInfo.imgLink }}" alt="currentInfo.earningToken"/>
                <nz-avatar-group *ngIf="!(currentInfo?.farmInfo?.imgLink)">
                  <nz-avatar [nzSize]="'large'" class="ct-uppercase" style="background-color: #1fc7d4" nz-tooltip nzText="{{ currentInfo.stakingToken }}"></nz-avatar>
                  <nz-avatar [nzSize]="'large'" class="ct-uppercase" style="background-color: #ed4b9e" nz-tooltip nzText="{{ currentInfo.earningToken }}"></nz-avatar>
                </nz-avatar-group>
              </div>
            </div>

            <div class="ct-pcs-content">
              <ng-container *ngTemplateOutlet="labelvaluePercent;context:{ 
                $implicit: currentInfo.interestType, 
                amount: currentInfo.interestRate, 
                hasIcon: true }"
              >
              </ng-container>

              <ng-container *ngIf="currentInfo.interestType == 'apy' || currentInfo.compound">
                <br>
                <ng-container *ngTemplateOutlet="labelvaluePerDay;context:{ 
                  $implicit: 'ทบต่อวัน', 
                  amount: currentInfo.compoundFrequency, 
                  hasIcon: false }"
                >
                </ng-container>
              </ng-container>

              <div class="ct-mt-lg ct-uppercase">
                <ng-container *ngTemplateOutlet="detailStake;context:{ 
                  $implicit: currentInfo.stakingToken, 
                  subKeyword: !(i18n)?'ฝาก':'STAKE', 
                  total: currentInfo.stakingAmount, 
                  subTotal: currentInfo.stakingTokenPrice }"
                >
                </ng-container>
              </div>

              <div class="ct-mt-lg ct-uppercase">
                <ng-container *ngTemplateOutlet="detailEarn;context:{ 
                  $implicit: currentInfo.earningToken, 
                  beforeKeyword: currentInfo.stakingTime,
                  subKeyword: !(i18n)?'ที่ได้':'EARNED', 
                  total: currentInfo.extraInfo?currentInfo.extraInfo.earnActual:null, 
                  subTotal: currentInfo.earningTokenPrice }"
                >
                </ng-container>
              </div>

              <ng-container *ngIf="currentInfo.extraInfo">

                <nz-divider nzDashed [nzText]="divSuggestionTp" style="color: #9a9a9a;">
                  <ng-template #divSuggestionTp><i nz-icon nzType="bulb" nzTheme="outline"></i> SUGGESTION</ng-template>
                </nz-divider>
  
                <div *ngFor="let time of earningTerms" class="ct-mt-lg ct-uppercase">
                  <ng-container *ngTemplateOutlet="detailEarn;context:{ 
                    $implicit: currentInfo.earningToken, 
                    beforeKeyword: time.value,
                    subKeyword: !(i18n)?'ที่ได้':'EARNED', 
                    total: currentInfo.extraInfo?currentInfo.extraInfo[time.key]:null, 
                    subTotal: currentInfo.earningTokenPrice }"
                  >
                  </ng-container>
                </div>

              </ng-container>

              <div class="ct-mt-lg">
                <button class="ct-bg-green ct-pcs-button ct-w-100" (click)="handleEdit(modalHeader, modalContent, modalFooter);">
                  {{ i18n?.edit || 'ตั้งค่าการคำนวนใหม่' || 'Edit' }}
                </button>
              </div>
              
            </div>

            <div class="ct-pcs-footer">
              <div class="ct-pcs-footer-left">
                <div *ngIf="currentInfo.interestType == 'apr'" class="ct-pcs-compound-type-info-purple ct-w-100">
                  <ng-container *ngTemplateOutlet="svg_18">
                  </ng-container>
                  <div class="ct-w-100">{{ i18n?.edit || 'Manual' }}</div>
                </div>
                <div *ngIf="currentInfo.interestType == 'apy'" class="ct-pcs-compound-type-info-green">
                  <ng-container *ngTemplateOutlet="svg_18">
                  </ng-container>
                  <div class="ct-w-100">{{ i18n?.edit || 'Auto' }}</div>
                </div>
              </div>
              &nbsp;
              <div class="ct-pcs-footer-left ct-w-100">
                <div *ngIf="currentInfo.interestType == 'apy' || currentInfo.compound" class="ct-pcs-compound-type-info-green ct-w-100">
                  <div class="ct-font-sm">{{ i18n?.edit || 'Compound per day' }}<br>{{ ( currentInfo.compoundFrequency || 0) | number:'0.0' }}</div>
                </div>
                <div *ngIf="currentInfo.interestType == 'apr' && !currentInfo.compound" class="ct-pcs-compound-type-info-purple ct-w-100">
                  <div class="ct-font-sm">{{ i18n?.edit || 'No Compound' }}</div>
                </div>
              </div>
            </div>

          </div>

        
          <div
            class="ct-w-100 ct-p-md"
            nz-row
            nz-space
            nzJustify="center"
            nzAlign="center"
            [nzSize]="8"
          >
            <button nz-col *nzSpaceItem class="ct-bg-red ct-pcs-button ct-font-md" (click)="handleSaveAndShare()">
              {{ i18n?.edit || 'Save & Share' }}
            </button>
            <!-- <button nz-col *nzSpaceItem class="ct-bg-green ct-pcs-button">
              Collect
            </button> -->
          </div>
        </div>



        <!-- End Config -->

        <!-- Result -->


        <!-- Result -->
    
      </div>
    </div>
  </nz-content>
</nz-layout>